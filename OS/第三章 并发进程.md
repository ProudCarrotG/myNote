#OS


# 3.1并发进程
1. 顺序程序
	1. 顺序性：一条条语句顺序执行
	2. 封闭性：A 执行时所有资源都给 A 服务
	3. 确定性
	4. 可再现性
2. 进程关系：
	1. 无关
	2. 相关（临界资源）
		1. 竞争（互斥）：没有先后顺序
		2. 协作（同步）：存在先后顺序
	3. 判断方式 [Bernstein条件](名词解释/Bernstein条件.md)
3. 错误原因：
	1. 对[临界区](名词解释/临界区.md)的使用不当
4. 仅控制对相同[临界资源](名词解释/临界资源.md)占用的进程

---
# 3.2 临界区管理
[临界区](临界区.md) [临界区](名词解释/临界区.md)

---
# 3.3 信号量与 PV 操作
1. 信号量（semaphore）：一种软件资源；符号为s
	1. 一种变量，控制进程之间的先后顺序
	2. 也可以认为是这一种资源的**空闲数量**，数值为 0 时表示该种资源已经被全部占用
	3. S 的初始值
		1. 如果用于控制互斥关系，一般情况为 1
		2. 如果是协作关系，需要两个信号量 $s_1,s_2$
			1. [PV 操作协作关系代码实现](PV操作.md#^63bc8f)
2. P 操作：-操作
	1. [PV操作](PV操作.md)
	2. 可能会挂起进程
3. V 操作：+操作
	1. [PV操作](PV操作.md)
	2. 可能会唤醒进程
5. 通过队列实现，能够解决饥饿问题
	1. 位于队尾的元素，不会被一直插队，经过一定时间一定能达到队首
6. 一般信号量s
	1. 推论：
7. PV 操作两个函数在代码中分别位于临界区的开始与结束位置，以此来控制临界区不发生资源竞争
8. 生产者消费者问题（考试会考代码）
	1. 一个生产者、一个消费者共享一个缓冲区
		1. 缓冲区只有一个，生产者不能连续生产多个资源（没有地方存放），消费者必须在有资源的情况才能做；所以必须是一个生产者生产资源，消费者再消费资源；
		2. 临界资源为缓冲区
		3. [代码](生产者消费者.md#1)
	1. 一个生产者、一个消费者共享多个缓冲区
		1. 
	2. 多个生产者、多个消费者共享多个缓冲区
		1. [代码](生产者消费者.md#3)
9. 先 P 同步信号量，再 P 互斥信号量；V 操作顺序无所谓
> 总感觉这个信号量的定义很奇怪，这个东西应该是类似于某种标记变量，反正都是用来控制的，只是这个标记不一定是 01，它可以有正数负数，也有其相应的含义，具体需要看题目的描述来定义。
> 看代码可能会更好理解

---
# 3.4 管程

---
# 3.5 进程通信

---
# 3.6 死锁