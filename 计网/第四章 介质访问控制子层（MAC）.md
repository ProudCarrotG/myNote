网络链路可以分为：点到点连接（[第三章 数据链路层](第三章%20数据链路层.md)）和使用广播信道（[第四章 介质访问控制子层（MAC）](第四章%20介质访问控制子层（MAC）.md)）
广播信道：一个节点发送信号，所有节点都能收到
如果有两个节点同时发送信号，则会产生冲突
## 4.2 多路访问协议
1. 处理信道冲突的问题
	1. 将信道分配给其中一个竞争节点
	2. 确定多路访问信道下一个使用者的协议
	3. 属于数据链路层的一个子层－－介质访问控制子层（MAC）
## 1 ALOHA
1. 纯 ALOHA（时间是连续）
	1. 当用户有数据需要发送时就传输；如果发生冲突，则发送方要等待一段随机的时间，然后再次发送
	2. **所有**冲突的发送方都随机等待一段时间
	3. 效率不高（18％）
2. Slotted (分槽) ALOHA (时间分为离散槽) ^1c0e7f
	1. 将时间平均分为时间长度相等的时槽
	2. 只能在每个时槽的开始发送，冲突等待随机个时槽再次发送
	3. 效率也不高（36％）
## 2 载波侦听多路访问协议（Carrier Sense Multiple Access,CSMA）
1. 基本思想：
	1. 站点在传输数据之前或期间侦听信道
		1. 有人在占用信道时不发送
2. 改进之处：检测到信道忙时，所有的站都不再传送数据
### 坚持和非坚持 CSMA
1. 1－坚持 CSMA
	1. 如果信道忙，则一直坚持侦听，直到信道空闲立即开始传输
	2. ‘1’：站点发现信道空闲时，传输数据的概率为 1
2. 非坚持的 CSMA（非贪婪）
	1. 信道忙时，不坚持侦听，等待一段随机时间后再侦听
	2. 更好的信道利用率
	3. 更大的延迟
3. P－坚持的 CSMA
	1. 与分槽系统一起使用 [分槽](#^1c0e7f)
	2. 发现信道空闲，以概率 p 发送数据，以概率 1－p 将此次发送推迟到下一个时间槽，直到帧被发送出去
	3. P＝0 显示站点有礼貌

## 带冲突检测的 CSMA
1. CSMA/CD工作原理 ^3974e4
	1. 侦听信道是否空闲。如果信道没有被使用，则进行传输
	2. 在传输过程中，继续保持侦听以检测信道是否有发生冲突，如果有发生冲突，则立即停止传输
	3. 如果有冲突发生，则等待一个随机的时间（[二进制（二元）指数后退算法](二进制（二元）指数后退算法.md)），并且再次从 1 开始
2. 此处放图：工作流程图 ppt 上面的

## 无线局域网协议
1. 与有线的差异
	1. 无线几乎是半双工的
	2. 不能在一个频率上传输的同时侦听该频率上的突发噪声
2. 问题
	1. 冲突的检测存在一定问题
	2. 使用 CSMA，存在隐藏站和暴露站
		1. 竞争者离得太远，导致一个站无法检测到潜藏的竞争对手（隐藏站）
		2. B 站给 A 站发送数据，C 给 D 发送数据，对于 C 而言，会检测到数据正在传输，而认为不能向 D 传输（暴露站）


---
## 4.3
### 发展史
### 标准以太网
1. 最小帧长：64 字节
2. 最大帧长：1518 字节
3. 使用 [csma_cd协议](#^3974e4)
4. 速率：10Mbps

#### 帧格式（重要）
1. dix 格式


### 4.3.4 交换式以太网
1. 解决：站点的增加，导致流量的增加，导致碰撞增加
	1. 把网络划分为单独的子网，通过**高速交换机**连接
### 4.3.5 快速以太网
1. 问题：以太网本身速度太慢
	1. 升级局域网基础（以太网网络），使接口不变，容量增加
	2. 数据格式、接口、协议都是相同的。将 bit 时间从 100ns 降低至 10ns，将线缆长度减少 10 倍
### 4.3.6 千兆以太网
1. 无确认数据报服务
2. 48 位地址方案
3. 相同的帧格式
4. 限制最大线缆长度为 **25** 米
5. 载荷扩充
6. 帧突发

### 以太网特点
1. 简单（可靠，低价，易维护）
2. 灵活（与 tcp/ip 互通）

---
## 4.4 无线局域网
1. 无线局域网可以在两种配置之一下运行
	1. 有架构模式
		1. wifi
	2. 自组织模式
		1. 电脑与电脑之间
### 4.4.1 802.11 协议栈
1. 802.11 的数据链路层
	1. mac 子层：确定信道分配方式
	2. llc 逻辑链路控制子层：隐藏 802 各个标准之间的差异
2. 无线传输技术的特殊技术
	1. 红外线：1-2Mbps
	2. FHSS 跳频扩频：低带宽，能抗干扰
	3. DSSS 直接序列扩频：1-2Mbps
	4. 正交频分多路复用：5.4Mbps
	5. HR-DSSS：11Mbps
	6. MIMO OFDM
### 2 802.11MAC 子层协议
1. DCF
	1. 分布式协调功能
	2. 使用冲突避免协议（CSMA/CA，冲突避免的 CSMA）
		1. CSMA/CA：感知信道并仅在空闲时发送。**传输过程中不要感知信道**。如果发生碰撞，随即等待一段时间，然后重试
			1. 冲突后指数后退
			2. 利用 ACK 信号来避免冲突
			3. NAV（网络分配向量）：一个站点分配给自己的虚拟信道，告诉它不要传输
2. PCF
	1. 点协调功能
3. 


---
## 4.5 
## 4.6 
